<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareerBridge - Global Job Portal</title>
    <meta name="description" content="Find your dream job abroad. CareerBridge connects skilled and unskilled workers from Africa to opportunities in USA, UK, Australia, and UAE.">
    <meta name="keywords" content="jobs, careers, global employment, visa sponsorship, skilled workers, unskilled workers, Africa, USA, UK, Australia, UAE">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }

        body {
            background-color: #f9fafb;
            color: #374151;
            line-height: 1.6;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(45deg, #fff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-btn {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        .nav-btn:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.4);
            transform: translateY(-2px);
        }

        .user-menu {
            position: relative;
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            min-width: 200px;
            margin-top: 0.5rem;
            overflow: hidden;
            transform: translateY(-10px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .user-dropdown.show {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .dropdown-item {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem;
            color: #374151;
            text-decoration: none;
            border: none;
            background: none;
            cursor: pointer;
            transition: background-color 0.2s;
            text-align: left;
        }

        .dropdown-item:hover {
            background-color: #f3f4f6;
        }

        .dropdown-item.logout {
            color: #dc2626;
            border-top: 1px solid #e5e7eb;
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        /* Promotional Banner */
        .promo-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .promo-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .promo-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .promo-text h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .promo-text p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .promo-actions {
            display: flex;
            gap: 1rem;
        }

        .promo-btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            text-decoration: none;
            display: inline-block;
        }

        .promo-btn.primary {
            background: white;
            color: #667eea;
        }

        .promo-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .promo-btn.secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .promo-btn.secondary:hover {
            background: white;
            color: #667eea;
        }

        /* Country Filters */
        .country-filters {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border-radius: 25px;
            border: 2px solid #e5e7eb;
            background: white;
            color: #374151;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .filter-btn:hover {
            border-color: #667eea;
            transform: translateY(-1px);
        }

        .filter-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        /* Job Grid */
        .job-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        /* Job Cards */
        .job-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            border: 1px solid #f3f4f6;
            position: relative;
            overflow: hidden;
        }

        .job-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }

        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .job-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .experience-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .experience-badge.entry {
            background: #dcfce7;
            color: #166534;
        }

        .experience-badge.mid {
            background: #fef3c7;
            color: #92400e;
        }

        .experience-badge.senior {
            background: #fee2e2;
            color: #991b1b;
        }

        .job-description {
            color: #6b7280;
            margin-bottom: 1rem;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .job-details {
            margin-bottom: 1rem;
        }

        .job-detail {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
            color: #4b5563;
            font-size: 0.9rem;
        }

        .job-detail svg {
            width: 16px;
            height: 16px;
            margin-right: 0.5rem;
            color: #667eea;
        }

        .job-requirements {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .requirement-tag {
            background: #f3f4f6;
            color: #374151;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
        }

        .job-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .posted-date {
            color: #9ca3af;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
        }

        .posted-date svg {
            width: 14px;
            height: 14px;
            margin-right: 0.25rem;
        }

        .apply-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .apply-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: white;
            border-radius: 16px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.9) translateY(20px);
            transition: all 0.3s ease;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal-overlay.show .modal {
            transform: scale(1) translateY(0);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
        }

        .close-btn {
            background: none;
            border: none;
            color: #9ca3af;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .close-btn:hover {
            background: #f3f4f6;
            color: #374151;
        }

        .modal-content {
            padding: 1.5rem;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #374151;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-input:read-only {
            background: #f9fafb;
            color: #6b7280;
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .submit-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Success Modal */
        .success-icon {
            width: 64px;
            height: 64px;
            background: #dcfce7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
        }

        .success-icon svg {
            width: 32px;
            height: 32px;
            color: #16a34a;
        }

        .success-title {
            text-align: center;
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .success-message {
            text-align: center;
            color: #6b7280;
            margin-bottom: 1.5rem;
        }

        /* Profile and Records Pages */
        .page-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .page-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .page-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1.5rem;
        }

        .profile-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .profile-field {
            margin-bottom: 1rem;
        }

        .profile-field label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #6b7280;
            margin-bottom: 0.25rem;
        }

        .profile-field p {
            color: #1f2937;
            font-weight: 500;
        }

        /* Application Records */
        .application-card {
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .application-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }

        .application-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .application-title {
            font-weight: 600;
            color: #1f2937;
        }

        .application-company {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .application-date {
            font-size: 0.8rem;
            color: #9ca3af;
        }

        .email-status {
            display: flex;
            align-items: center;
            margin-top: 0.25rem;
            font-size: 0.75rem;
        }

        .email-status svg {
            width: 12px;
            height: 12px;
            margin-right: 0.25rem;
        }

        .email-status.success {
            color: #16a34a;
        }

        .email-status.error {
            color: #dc2626;
        }

        /* Popup Notifications */
        .popup-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            padding: 1rem 1.5rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            border-left: 4px solid #667eea;
            z-index: 3000;
            transform: translateX(400px);
            transition: all 0.3s ease;
            max-width: 300px;
        }

        .popup-notification.show {
            transform: translateX(0);
        }

        .popup-notification.success {
            border-left-color: #16a34a;
        }

        .popup-notification.error {
            border-left-color: #dc2626;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-menu {
                flex-direction: column;
                gap: 0.5rem;
            }

            .promo-content {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .promo-actions {
                flex-direction: column;
                width: 100%;
            }

            .job-grid {
                grid-template-columns: 1fr;
            }

            .modal {
                width: 95%;
                margin: 1rem;
            }

            .profile-grid {
                grid-template-columns: 1fr;
            }

            .application-header {
                flex-direction: column;
                gap: 0.5rem;
            }
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }

        /* Loading states */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        /* Animations */
        @keyframes slideInUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .slide-in {
            animation: slideInUp 0.5s ease-out;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">CareerBridge</div>
            <nav class="nav-menu">
                <button class="nav-btn" onclick="setCurrentPage('home')">Jobs</button>
                <div id="userSection">
                    <button class="nav-btn" onclick="showAuthModal()">Sign In</button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Page -->
        <div id="homePage">
            <!-- Promotional Banner -->
            <div class="promo-banner">
                <div class="promo-content">
                    <div class="promo-text">
                        <h2>Global Career Opportunities</h2>
                        <p>Connect with premium employers worldwide and advance your career</p>
                    </div>
                    <div class="promo-actions">
                        <button class="promo-btn primary" onclick="scrollToJobs()">Explore Opportunities</button>
                        <button class="promo-btn secondary" onclick="showFeaturedJobs()">Premium Positions</button>
                    </div>
                </div>
            </div>

            <!-- Country Filters -->
            <div class="country-filters">
                <button class="filter-btn active" onclick="filterByCountry('All')">All Countries</button>
                <button class="filter-btn" onclick="filterByCountry('USA')">🇺🇸 USA</button>
                <button class="filter-btn" onclick="filterByCountry('UK')">🇬🇧 UK</button>
                <button class="filter-btn" onclick="filterByCountry('Australia')">🇦🇺 Australia</button>
                <button class="filter-btn" onclick="filterByCountry('UAE')">🇦🇪 UAE</button>
            </div>

            <!-- Job Grid -->
            <div class="job-grid" id="jobGrid">
                <!-- Jobs will be populated by JavaScript -->
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profilePage" class="hidden">
            <div class="page-container">
                <div class="page-card">
                    <h2 class="page-title">Profile Information</h2>
                    <div id="profileContent">
                        <!-- Profile content will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Records Page -->
        <div id="recordsPage" class="hidden">
            <div class="page-container">
                <div class="page-card">
                    <h2 class="page-title">Application Records</h2>
                    <div id="recordsContent">
                        <!-- Records content will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Authentication Modal -->
    <div id="authModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Create Account</h2>
                <button class="close-btn" onclick="hideAuthModal()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-content">
                <form id="authForm">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" name="name" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email (Optional)</label>
                        <input type="email" name="email" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Date of Birth</label>
                        <input type="date" name="dateOfBirth" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Gender</label>
                        <select name="gender" class="form-select" required>
                            <option value="">Select Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nationality</label>
                        <select name="nationality" class="form-select" required>
                            <option value="">Select Nationality</option>
                            <!-- Countries will be populated by JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ID/Passport Number</label>
                        <input type="text" name="idPassport" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" name="password" class="form-input" required>
                    </div>
                    <button type="submit" class="submit-btn">Create Account & Apply</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Application Modal -->
    <div id="applicationModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="applicationTitle">Apply for Job</h2>
                <button class="close-btn" onclick="hideApplicationModal()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-content">
                <form id="applicationForm">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" name="name" class="form-input" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" name="email" class="form-input" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nationality</label>
                        <input type="text" name="nationality" class="form-input" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ID/Passport</label>
                        <input type="text" name="idPassport" class="form-input" readonly>
                    </div>
                    <div class="form-group hidden" id="educationGroup">
                        <label class="form-label">Education Level</label>
                        <select name="educationLevel" class="form-select">
                            <option value="">Select Education Level</option>
                            <option value="High School">High School</option>
                            <option value="Associate Degree">Associate Degree</option>
                            <option value="Bachelor's Degree">Bachelor's Degree</option>
                            <option value="Master's Degree">Master's Degree</option>
                            <option value="PhD">PhD</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Personal Message</label>
                        <textarea name="personalMessage" class="form-textarea" placeholder="Tell us why you're interested in this position..."></textarea>
                    </div>
                    <button type="submit" class="submit-btn" id="submitApplicationBtn">Submit Application</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-content" style="text-align: center;">
                <div class="success-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>
                </div>
                <h2 class="success-title">Application Submitted Successfully!</h2>
                <p class="success-message">Your application has been sent to the employer. They will contact you if you're selected for an interview.</p>
                <div id="emailStatusMessage"></div>
                <button class="submit-btn" onclick="hideSuccessModal()">Continue</button>
            </div>
        </div>
    </div>

    <script>
        // EmailJS Configuration
        const EMAILJS_SERVICE_ID = 'service_t8vherg';
        const EMAILJS_TEMPLATE_ID = 'template_sqgf423';
        const EMAILJS_PUBLIC_KEY = 'WNEjs_ksvkD2yiWv1';

        // Initialize EmailJS
        emailjs.init(EMAILJS_PUBLIC_KEY);

        // Global variables
        let currentUser = null;
        let selectedJob = null;
        let applications = [];
        let currentPage = 'home';
        let selectedCountry = 'All';

        // Sample job data
        const jobs = [
            {
                id: '1',
                title: 'Senior Software Engineer',
                description: 'Join our innovative team to build cutting-edge web applications using React, Node.js, and cloud technologies.',
                company: 'TechCorp Solutions',
                location: 'San Francisco, CA',
                country: 'USA',
                payment: '$85-120/hour',
                workingHours: '9:00 AM - 6:00 PM PST',
                hoursPerWeek: '40 hours/week',
                requirements: ['5+ years React experience', 'Node.js proficiency', 'Cloud platforms (AWS/Azure)'],
                experienceLevel: 'Senior Level',
                isSkilled: true,
                postedDate: '2025-03-15',
                neededBy: '2025-06-15'
            },
            {
                id: '2',
                title: 'Construction Worker',
                description: 'Seeking reliable construction workers for residential building projects. Physical demands include lifting, carrying, and operating tools.',
                company: 'BuildRight Construction',
                location: 'London, UK',
                country: 'UK',
                payment: '$25-35/hour',
                workingHours: '7:00 AM - 4:00 PM GMT',
                hoursPerWeek: '45 hours/week',
                requirements: ['Physical fitness', 'Basic tool knowledge', 'Safety certification preferred'],
                experienceLevel: 'Entry Level',
                isSkilled: false,
                postedDate: '2025-02-20',
                neededBy: '2025-08-20'
            },
            {
                id: '3',
                title: 'Registered Nurse',
                description: 'Compassionate nurse needed for elderly care facility. Provide quality healthcare and support to residents.',
                company: 'MediCare Australia',
                location: 'Sydney, NSW',
                country: 'Australia',
                payment: '$4,800-6,200/month',
                workingHours: '6:00 AM - 2:00 PM AEST',
                hoursPerWeek: '38 hours/week',
                requirements: ['RN certification', '2+ years experience', 'CPR certified'],
                experienceLevel: 'Mid Level',
                isSkilled: true,
                postedDate: '2025-01-10',
                neededBy: '2025-07-10'
            },
            {
                id: '4',
                title: 'Delivery Driver',
                description: 'Reliable delivery driver needed for food delivery service. Must have own vehicle and clean driving record.',
                company: 'QuickEats Dubai',
                location: 'Dubai, UAE',
                country: 'UAE',
                payment: '$18-25/hour',
                workingHours: '11:00 AM - 9:00 PM GST',
                hoursPerWeek: '50 hours/week',
                requirements: ['Valid driving license', 'Own vehicle', 'GPS navigation skills'],
                experienceLevel: 'Entry Level',
                isSkilled: false,
                postedDate: '2025-04-01',
                neededBy: '2025-07-01'
            },
            {
                id: '5',
                title: 'Financial Analyst',
                description: 'Analyze financial data and create reports for investment decisions. Strong analytical skills required.',
                company: 'Global Finance Inc',
                location: 'New York, NY',
                country: 'USA',
                payment: '$75-95/hour',
                workingHours: '9:00 AM - 5:00 PM EST',
                hoursPerWeek: '40 hours/week',
                requirements: ['Finance degree', 'Excel proficiency', '3+ years experience'],
                experienceLevel: 'Mid Level',
                isSkilled: true,
                postedDate: '2025-02-28',
                neededBy: '2025-09-28'
            },
            {
                id: '6',
                title: 'Hotel Housekeeper',
                description: 'Maintain cleanliness and comfort standards in luxury hotel rooms. Attention to detail essential.',
                company: 'Royal Hotel Group',
                location: 'Manchester, UK',
                country: 'UK',
                payment: '$16-20/hour',
                workingHours: '8:00 AM - 4:00 PM GMT',
                hoursPerWeek: '35 hours/week',
                requirements: ['Previous cleaning experience', 'Attention to detail', 'Physical stamina'],
                experienceLevel: 'Entry Level',
                isSkilled: false,
                postedDate: '2025-03-10',
                neededBy: '2025-06-10'
            },
            {
                id: '7',
                title: 'Mechanical Engineer',
                description: 'Design and develop mechanical systems for mining operations. CAD software experience required.',
                company: 'AusMineral Corp',
                location: 'Perth, WA',
                country: 'Australia',
                payment: '$95-130/hour',
                workingHours: '8:00 AM - 5:00 PM AWST',
                hoursPerWeek: '40 hours/week',
                requirements: ['Mechanical Engineering degree', 'CAD software', 'Mining industry experience'],
                experienceLevel: 'Senior Level',
                isSkilled: true,
                postedDate: '2025-01-25',
                neededBy: '2025-10-25'
            },
            {
                id: '8',
                title: 'Warehouse Assistant',
                description: 'Pack, sort, and organize inventory in fast-paced warehouse environment. Forklift certification a plus.',
                company: 'Emirates Logistics',
                location: 'Abu Dhabi, UAE',
                country: 'UAE',
                payment: '$15-22/hour',
                workingHours: '6:00 AM - 2:00 PM GST',
                hoursPerWeek: '48 hours/week',
                requirements: ['Physical fitness', 'Basic math skills', 'Forklift certification preferred'],
                experienceLevel: 'Entry Level',
                isSkilled: false,
                postedDate: '2025-04-05',
                neededBy: '2025-07-05'
            }
        ];

        // Countries list
        const countries = [
            'Afghanistan', 'Albania', 'Algeria', 'Andorra', 'Angola', 'Argentina', 'Armenia', 'Australia',
            'Austria', 'Azerbaijan', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize',
            'Benin', 'Bhutan', 'Bolivia', 'Bosnia and Herzegovina', 'Botswana', 'Brazil', 'Brunei', 'Bulgaria',
            'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Canada', 'Cape Verde', 'Central African Republic',
            'Chad', 'Chile', 'China', 'Colombia', 'Comoros', 'Congo', 'Costa Rica', 'Croatia', 'Cuba',
            'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'East Timor',
            'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Ethiopia', 'Fiji',
            'Finland', 'France', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Greece', 'Grenada',
            'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hungary', 'Iceland',
            'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Israel', 'Italy', 'Jamaica', 'Japan',
            'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'North Korea', 'South Korea', 'Kuwait', 'Kyrgyzstan',
            'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania',
            'Luxembourg', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands',
            'Mauritania', 'Mauritius', 'Mexico', 'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro',
            'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Zealand',
            'Nicaragua', 'Niger', 'Nigeria', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Palestine', 'Panama',
            'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal', 'Qatar', 'Romania',
            'Russia', 'Rwanda', 'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Vincent and the Grenadines',
            'Samoa', 'San Marino', 'São Tomé and Príncipe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles',
            'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa',
            'South Sudan', 'Spain', 'Sri Lanka', 'Sudan', 'Suriname', 'Sweden', 'Switzerland', 'Syria',
            'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Togo', 'Tonga', 'Trinidad and Tobago', 'Tunisia',
            'Turkey', 'Turkmenistan', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom',
            'United States', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam',
            'Yemen', 'Zambia', 'Zimbabwe'
        ];

        // Initialize the application
        function init() {
            loadUserData();
            loadApplications();
            populateCountries();
            renderJobs();
            updateUserInterface();
            showRandomPopup();
        }

        // Load user data from localStorage
        function loadUserData() {
            const savedUser = localStorage.getItem('careerbridge_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
            }
        }

        // Load applications from localStorage
        function loadApplications() {
            const savedApplications = localStorage.getItem('careerbridge_applications');
            if (savedApplications) {
                applications = JSON.parse(savedApplications);
            }
        }

        // Populate countries dropdown
        function populateCountries() {
            const nationalitySelect = document.querySelector('select[name="nationality"]');
            countries.forEach(country => {
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                nationalitySelect.appendChild(option);
            });
        }

        // Update user interface based on login status
        function updateUserInterface() {
            const userSection = document.getElementById('userSection');
            
            if (currentUser) {
                userSection.innerHTML = `
                    <div class="user-menu">
                        <button class="nav-btn" onclick="toggleUserMenu()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            ${currentUser.name}
                        </button>
                        <div class="user-dropdown" id="userDropdown">
                            <button class="dropdown-item" onclick="setCurrentPage('profile')">Profile</button>
                            <button class="dropdown-item" onclick="setCurrentPage('records')">Records</button>
                            <button class="dropdown-item logout" onclick="logout()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                    <polyline points="16,17 21,12 16,7"></polyline>
                                    <line x1="21" y1="12" x2="9" y2="12"></line>
                                </svg>
                                Logout
                            </button>
                        </div>
                    </div>
                `;
            } else {
                userSection.innerHTML = `
                    <button class="nav-btn" onclick="showAuthModal()">Sign In</button>
                `;
            }
        }

        // Toggle user menu
        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        }

        // Close user menu when clicking outside
        document.addEventListener('click', function(event) {
            const userMenu = document.querySelector('.user-menu');
            if (userMenu && !userMenu.contains(event.target)) {
                const dropdown = document.getElementById('userDropdown');
                if (dropdown) {
                    dropdown.classList.remove('show');
                }
            }
        });

        // Set current page
        function setCurrentPage(page) {
            currentPage = page;
            
            // Hide all pages
            document.getElementById('homePage').classList.add('hidden');
            document.getElementById('profilePage').classList.add('hidden');
            document.getElementById('recordsPage').classList.add('hidden');
            
            // Show selected page
            document.getElementById(page + 'Page').classList.remove('hidden');
            
            // Close user menu
            const dropdown = document.getElementById('userDropdown');
            if (dropdown) {
                dropdown.classList.remove('show');
            }
            
            // Render page content
            if (page === 'profile') {
                renderProfile();
            } else if (page === 'records') {
                renderRecords();
            }
        }

        // Filter jobs by country
        function filterByCountry(country) {
            selectedCountry = country;
            
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            renderJobs();
        }

        // Render jobs
        function renderJobs() {
            const jobGrid = document.getElementById('jobGrid');
            const filteredJobs = selectedCountry === 'All' 
                ? jobs 
                : jobs.filter(job => job.country === selectedCountry);
            
            jobGrid.innerHTML = filteredJobs.map(job => `
                <div class="job-card slide-in">
                    <div class="job-header">
                        <div>
                            <h3 class="job-title">${job.title}</h3>
                        </div>
                        <span class="experience-badge ${job.experienceLevel.toLowerCase().replace(' ', '')}">${job.experienceLevel}</span>
                    </div>
                    
                    <p class="job-description">${job.description}</p>
                    
                    <div class="job-details">
                        <div class="job-detail">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <span>${job.company}</span>
                        </div>
                        <div class="job-detail">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                            <span>${job.location}</span>
                        </div>
                        <div class="job-detail">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            <span>${job.payment}</span>
                        </div>
                        <div class="job-detail">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12,6 12,12 16,14"></polyline>
                            </svg>
                            <span>${job.workingHours}</span>
                        </div>
                    </div>
                    
                    <div class="job-requirements">
                        ${job.requirements.slice(0, 2).map(req => `<span class="requirement-tag">${req}</span>`).join('')}
                        ${job.requirements.length > 2 ? `<span class="requirement-tag">+${job.requirements.length - 2} more</span>` : ''}
                    </div>
                    
                    <div class="job-footer">
                        <div class="posted-date">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            Posted: ${job.postedDate}
                        </div>
                        <button class="apply-btn" onclick="applyForJob('${job.id}')">Apply Now</button>
                    </div>
                </div>
            `).join('');
        }

        // Apply for job
        function applyForJob(jobId) {
            selectedJob = jobs.find(job => job.id === jobId);
            
            if (!currentUser) {
                showAuthModal();
            } else {
                showApplicationModal();
            }
        }

        // Show authentication modal
        function showAuthModal() {
            document.getElementById('authModal').classList.add('show');
        }

        // Hide authentication modal
        function hideAuthModal() {
            document.getElementById('authModal').classList.remove('show');
        }

        // Show application modal
        function showApplicationModal() {
            if (!selectedJob || !currentUser) return;
            
            const modal = document.getElementById('applicationModal');
            const form = document.getElementById('applicationForm');
            const title = document.getElementById('applicationTitle');
            const educationGroup = document.getElementById('educationGroup');
            
            title.textContent = `Apply for ${selectedJob.title}`;
            
            // Pre-fill form with user data
            form.name.value = currentUser.name;
            form.email.value = currentUser.email || '';
            form.nationality.value = currentUser.nationality;
            form.idPassport.value = currentUser.idPassport;
            
            // Show/hide education field based on job type
            if (selectedJob.isSkilled) {
                educationGroup.classList.remove('hidden');
                form.educationLevel.required = true;
            } else {
                educationGroup.classList.add('hidden');
                form.educationLevel.required = false;
            }
            
            modal.classList.add('show');
        }

        // Hide application modal
        function hideApplicationModal() {
            document.getElementById('applicationModal').classList.remove('show');
        }

        // Show success modal
        function showSuccessModal(emailSent) {
            const modal = document.getElementById('successModal');
            const statusMessage = document.getElementById('emailStatusMessage');
            
            if (emailSent) {
                statusMessage.innerHTML = '<p style="color: #16a34a; font-size: 0.9rem; margin-bottom: 1rem;">✓ Email notification sent successfully</p>';
            } else {
                statusMessage.innerHTML = '<p style="color: #dc2626; font-size: 0.9rem; margin-bottom: 1rem;">⚠ Email notification failed, but application was saved</p>';
            }
            
            modal.classList.add('show');
        }

        // Hide success modal
        function hideSuccessModal() {
            document.getElementById('successModal').classList.remove('show');
        }

        // Handle authentication form submission
        document.getElementById('authForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            currentUser = {
                name: formData.get('name'),
                email: formData.get('email'),
                dateOfBirth: formData.get('dateOfBirth'),
                gender: formData.get('gender'),
                nationality: formData.get('nationality'),
                idPassport: formData.get('idPassport'),
                password: formData.get('password')
            };
            
            localStorage.setItem('careerbridge_user', JSON.stringify(currentUser));
            updateUserInterface();
            hideAuthModal();
            showApplicationModal();
        });

        // Handle application form submission
        document.getElementById('applicationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!selectedJob || !currentUser) return;
            
            const submitBtn = document.getElementById('submitApplicationBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            
            const formData = new FormData(e.target);
            const personalMessage = formData.get('personalMessage');
            const educationLevel = selectedJob.isSkilled ? formData.get('educationLevel') : undefined;
            
            // Prepare email data
            const emailData = {
                user_name: currentUser.name,
                user_email: currentUser.email || '',
                user_nationality: currentUser.nationality,
                user_id_passport: currentUser.idPassport,
                user_date_of_birth: currentUser.dateOfBirth,
                user_gender: currentUser.gender,
                job_title: selectedJob.title,
                job_company: selectedJob.company,
                job_location: selectedJob.location,
                job_payment: selectedJob.payment,
                job_working_hours: selectedJob.workingHours,
                job_requirements: selectedJob.requirements.join(', '),
                education_level: educationLevel,
                personal_message: personalMessage,
                application_date: new Date().toLocaleDateString()
            };
            
            // Send email
            const emailSent = await sendJobApplication(emailData);
            
            // Save application locally
            const application = {
                jobId: selectedJob.id,
                jobTitle: selectedJob.title,
                company: selectedJob.company,
                appliedDate: new Date().toISOString().split('T')[0],
                personalMessage: personalMessage,
                educationLevel: educationLevel,
                emailSent: emailSent
            };
            
            applications.push(application);
            localStorage.setItem('careerbridge_applications', JSON.stringify(applications));
            
            submitBtn.disabled = false;
            submitBtn.textContent = 'Submit Application';
            
            hideApplicationModal();
            showSuccessModal(emailSent);
        });

        // Send job application via EmailJS
        async function sendJobApplication(emailData) {
            try {
                console.log('Sending email with data:', emailData);
                
                const response = await emailjs.send(
                    EMAILJS_SERVICE_ID,
                    EMAILJS_TEMPLATE_ID,
                    emailData,
                    EMAILJS_PUBLIC_KEY
                );
                
                console.log('EmailJS Response:', response);
                return response.status === 200;
            } catch (error) {
                console.error('EmailJS Error:', error);
                return false;
            }
        }

        // Render profile page
        function renderProfile() {
            const profileContent = document.getElementById('profileContent');
            
            if (!currentUser) {
                profileContent.innerHTML = '<p>Please log in to view your profile.</p>';
                return;
            }
            
            profileContent.innerHTML = `
                <div class="profile-grid">
                    <div class="profile-field">
                        <label>Full Name</label>
                        <p>${currentUser.name}</p>
                    </div>
                    <div class="profile-field">
                        <label>Email</label>
                        <p>${currentUser.email || 'Not provided'}</p>
                    </div>
                    <div class="profile-field">
                        <label>Date of Birth</label>
                        <p>${currentUser.dateOfBirth}</p>
                    </div>
                    <div class="profile-field">
                        <label>Gender</label>
                        <p>${currentUser.gender}</p>
                    </div>
                    <div class="profile-field">
                        <label>Nationality</label>
                        <p>${currentUser.nationality}</p>
                    </div>
                    <div class="profile-field">
                        <label>ID/Passport</label>
                        <p>${currentUser.idPassport}</p>
                    </div>
                </div>
            `;
        }

        // Render records page
        function renderRecords() {
            const recordsContent = document.getElementById('recordsContent');
            
            if (applications.length === 0) {
                recordsContent.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 2rem;">No applications yet. Start applying to jobs!</p>';
                return;
            }
            
            recordsContent.innerHTML = applications.map(application => `
                <div class="application-card">
                    <div class="application-header">
                        <div>
                            <div class="application-title">${application.jobTitle}</div>
                            <div class="application-company">${application.company}</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="application-date">Applied: ${application.appliedDate}</div>
                            <div class="email-status ${application.emailSent ? 'success' : 'error'}">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                    <polyline points="22,6 12,13 2,6"></polyline>
                                </svg>
                                ${application.emailSent ? 'Email Sent' : 'Email Failed'}
                            </div>
                        </div>
                    </div>
                    ${application.personalMessage ? `<p style="color: #4b5563; font-size: 0.9rem; margin-top: 0.5rem;">${application.personalMessage}</p>` : ''}
                </div>
            `).join('');
        }

        // Logout function
        function logout() {
            currentUser = null;
            localStorage.removeItem('careerbridge_user');
            updateUserInterface();
            setCurrentPage('home');
            showNotification('Logged out successfully', 'success');
        }

        // Scroll to jobs section
        function scrollToJobs() {
            document.getElementById('jobGrid').scrollIntoView({ behavior: 'smooth' });
        }

        // Show featured jobs
        function showFeaturedJobs() {
            const featuredJobs = jobs.filter(job => job.experienceLevel === 'Senior Level' || job.payment.includes('$85') || job.payment.includes('$95'));
            showNotification(`Found ${featuredJobs.length} premium positions`, 'success');
            
            // Filter to show only featured jobs
            const jobGrid = document.getElementById('jobGrid');
            jobGrid.innerHTML = featuredJobs.map(job => `
                <div class="job-card slide-in" style="border: 2px solid #667eea;">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin: -1.5rem -1.5rem 1rem -1.5rem; padding: 0.5rem 1rem; border-radius: 14px 14px 0 0;">
                        <span style="font-size: 0.8rem; font-weight: 600;">⭐ PREMIUM POSITION</span>
                    </div>
                    <div class="job-header">
                        <div>
                            <h3 class="job-title">${job.title}</h3>
                        </div>
                        <span class="experience-badge ${job.experienceLevel.toLowerCase().replace(' ', '')}">${job.experienceLevel}</span>
                    </div>
                    
                    <p class="job-description">${job.description}</p>
                    
                    <div class="job-details">
                        <div class="job-detail">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <span>${job.company}</span>
                        </div>
                        <div class="job-detail">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                            <span>${job.location}</span>
                        </div>
                        <div class="job-detail">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            <span>${job.payment}</span>
                        </div>
                        <div class="job-detail">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12,6 12,12 16,14"></polyline>
                            </svg>
                            <span>${job.workingHours}</span>
                        </div>
                    </div>
                    
                    <div class="job-requirements">
                        ${job.requirements.slice(0, 2).map(req => `<span class="requirement-tag">${req}</span>`).join('')}
                        ${job.requirements.length > 2 ? `<span class="requirement-tag">+${job.requirements.length - 2} more</span>` : ''}
                    </div>
                    
                    <div class="job-footer">
                        <div class="posted-date">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            Posted: ${job.postedDate}
                        </div>
                        <button class="apply-btn" onclick="applyForJob('${job.id}')" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">Apply Now</button>
                    </div>
                </div>
            `).join('');
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `popup-notification ${type}`;
            notification.innerHTML = `
                <div style="font-weight: 600; margin-bottom: 0.25rem;">${type === 'success' ? 'Success!' : 'Notice'}</div>
                <div style="font-size: 0.9rem; color: #6b7280;">${message}</div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Show random popup notifications
        function showRandomPopup() {
            const messages = [
                'New job opportunities available in your area!',
                '🔥 Hot jobs: 15 new positions added today',
                '💼 Premium employers are actively hiring',
                '🌟 Your dream job might be just one click away',
                '📈 Salary ranges updated for international positions'
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            
            setTimeout(() => {
                showNotification(randomMessage, 'success');
                
                // Schedule next random popup
                setTimeout(showRandomPopup, Math.random() * 30000 + 45000); // 45-75 seconds
            }, Math.random() * 10000 + 5000); // 5-15 seconds initial delay
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(event) {
            const modals = document.querySelectorAll('.modal-overlay');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.classList.remove('show');
                }
            });
        });

        // Initialize the application when the page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
