<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareerBridge - Global Career Opportunities</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        /* Hide scrollbars but keep scrolling functionality */
        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }
        
        html {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .hidden {
            display: none;
        }

        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal-content {
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-content::-webkit-scrollbar {
            width: 6px;
        }

        .modal-content::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }

        .modal-content::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        .modal-content::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .hover-lift {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
    <!-- Professional Header -->
    <header class="glass-effect shadow-lg sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-8">
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent flex items-center">
                        <svg class="w-8 h-8 mr-3 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                        CareerBridge
                    </h1>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div id="user-section" class="hidden">
                        <div class="relative">
                            <button onclick="toggleUserMenu()" id="user-menu-btn" class="flex items-center space-x-3 bg-white hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-xl transition-all duration-300 border border-gray-200 shadow-sm">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                </svg>
                                <span class="text-sm font-medium" id="user-name"></span>
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                </svg>
                            </button>
                            
                            <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-200 z-10 overflow-hidden">
                                <div class="py-2">
                                    <button onclick="setCurrentPage('profile')" class="block w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 transition-colors flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                        </svg>
                                        Profile
                                    </button>
                                    <button onclick="setCurrentPage('records')" class="block w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 transition-colors flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                        </svg>
                                        Records
                                    </button>
                                    <hr class="my-2">
                                    <button onclick="handleLogout()" class="block w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                                        </svg>
                                        Logout
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="showAuthModal()" id="signin-btn" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2.5 rounded-xl text-sm font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
                        Sign In
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Home Page Content -->
        <div id="home-page">
            <!-- Premium Access Status -->
            <div class="bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-2xl p-6 mb-8 shadow-lg hover-lift">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-bold text-xl">Premium Job Access</h3>
                            <p class="text-amber-100 text-sm" id="premium-status">
                                You can access 1 premium job today
                            </p>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-3xl font-bold" id="premium-usage">0/1</div>
                        <div class="text-xs text-amber-100">Today's Usage</div>
                    </div>
                </div>
            </div>

            <!-- Promotional Banner -->
            <div class="bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white rounded-2xl p-8 mb-8 shadow-xl hover-lift">
                <div class="flex flex-col md:flex-row items-center justify-between">
                    <div class="mb-6 md:mb-0">
                        <h2 class="text-3xl font-bold mb-3">Global Career Opportunities</h2>
                        <p class="text-blue-100 text-lg">Connect with top employers worldwide and advance your career</p>
                    </div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button class="bg-white text-blue-600 px-8 py-3 rounded-xl font-semibold hover:bg-blue-50 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                            Explore Opportunities
                        </button>
                        <button class="border-2 border-white text-white px-8 py-3 rounded-xl font-semibold hover:bg-white hover:text-blue-600 transition-all duration-300">
                            Success Stories
                        </button>
                    </div>
                </div>
            </div>

            <!-- Country Filters -->
            <div class="flex flex-wrap gap-3 mb-8">
                <button onclick="filterByCountry('All')" class="country-filter px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 bg-blue-600 text-white" data-country="All">
                    All Countries
                </button>
                <button onclick="filterByCountry('USA')" class="country-filter px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 bg-white text-gray-700 hover:bg-gray-50 border border-gray-200" data-country="USA">
                    🇺🇸 USA
                </button>
                <button onclick="filterByCountry('UK')" class="country-filter px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 bg-white text-gray-700 hover:bg-gray-50 border border-gray-200" data-country="UK">
                    🇬🇧 UK
                </button>
                <button onclick="filterByCountry('Australia')" class="country-filter px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 bg-white text-gray-700 hover:bg-gray-50 border border-gray-200" data-country="Australia">
                    🇦🇺 Australia
                </button>
                <button onclick="filterByCountry('UAE')" class="country-filter px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 bg-white text-gray-700 hover:bg-gray-50 border border-gray-200" data-country="UAE">
                    🇦🇪 UAE
                </button>
            </div>

            <!-- Job Cards Grid -->
            <div id="jobs-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- Jobs will be populated by JavaScript -->
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profile-page" class="hidden max-w-3xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
                <div class="flex items-center mb-8">
                    <button onclick="setCurrentPage('home')" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2 class="text-3xl font-bold text-gray-900">Profile Information</h2>
                </div>
                <div id="profile-content">
                    <!-- Profile content will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Records Page -->
        <div id="records-page" class="hidden max-w-5xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
                <div class="flex items-center mb-8">
                    <button onclick="setCurrentPage('home')" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2 class="text-3xl font-bold text-gray-900">Application Records</h2>
                </div>
                <div id="records-content">
                    <!-- Records content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <!-- Premium Access Modal -->
    <div id="premium-modal" class="modal-backdrop hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full relative modal-content">
            <button onclick="closePremiumModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            
            <div class="p-8 text-center">
                <div class="w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <svg class="w-10 h-10 text-amber-600" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 mb-4">Premium Job Access Limit</h2>
                <p class="text-gray-600 mb-6 text-lg">
                    You've already accessed your premium job for today. Come back tomorrow for another premium opportunity!
                </p>
                <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6">
                    <p class="text-amber-800 text-sm">
                        <strong>Daily Limit:</strong> 1 premium job per 24 hours per device
                    </p>
                </div>
                <button onclick="closePremiumModal()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-xl font-semibold transition-colors duration-200">
                    Continue Browsing
                </button>
            </div>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div id="auth-modal" class="modal-backdrop hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full relative modal-content">
            <button onclick="closeAuthModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg z-10">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            
            <div class="p-8">
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">Create Account</h2>
                    <p class="text-gray-600">Join CareerBridge to access global opportunities</p>
                </div>
                
                <form id="auth-form">
                    <div class="space-y-5">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Full Name</label>
                            <input type="text" name="name" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Email (Optional)</label>
                            <input type="email" name="email" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Date of Birth</label>
                            <input type="date" name="dateOfBirth" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Gender</label>
                            <select name="gender" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Nationality</label>
                            <select name="nationality" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                                <option value="">Select Nationality</option>
                                <!-- Countries will be populated by JavaScript -->
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">ID/Passport Number</label>
                            <input type="text" name="idPassport" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Password</label>
                            <input type="password" name="password" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 mt-8">
                        Create Account & Apply
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Job Application Modal -->
    <div id="application-modal" class="modal-backdrop hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full relative modal-content">
            <button onclick="closeApplicationModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg z-10">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            
            <div class="p-8">
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-2" id="application-title">Apply for Job</h2>
                    <p class="text-gray-600">Complete your application below</p>
                </div>
                
                <form id="application-form">
                    <div class="space-y-5">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Full Name</label>
                            <input type="text" name="name" readonly class="w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Email</label>
                            <input type="email" name="email" readonly class="w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Nationality</label>
                            <input type="text" name="nationality" readonly class="w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">ID/Passport</label>
                            <input type="text" name="idPassport" readonly class="w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50">
                        </div>
                        
                        <div id="education-section" class="hidden">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Education Level</label>
                            <select name="educationLevel" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                                <option value="">Select Education Level</option>
                                <!-- Education levels will be populated by JavaScript -->
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Personal Message</label>
                            <textarea name="personalMessage" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" placeholder="Tell us why you're interested in this position..."></textarea>
                        </div>
                    </div>
                    
                    <button type="submit" id="submit-application" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 mt-8">
                        Submit Application
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="modal-backdrop hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative">
            <button onclick="closeSuccessModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            
            <div class="text-center">
                <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 mb-4">Application Submitted Successfully!</h2>
                <p class="text-gray-600 mb-4 text-lg">Your application has been sent to the employer.</p>
                <p id="email-status" class="text-sm mb-6"></p>
                <button onclick="closeSuccessModal()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-xl font-semibold transition-colors duration-200">
                    Continue
                </button>
            </div>
        </div>
    </div>

    <script>
        // EmailJS Configuration
        const EMAILJS_SERVICE_ID = 'service_t8vherg';
        const EMAILJS_TEMPLATE_ID = 'template_sqgf423';
        const EMAILJS_PUBLIC_KEY = 'WNEjs_ksvkD2yiWv1';

        // Initialize EmailJS
        emailjs.init(EMAILJS_PUBLIC_KEY);

        // Global variables
        let currentUser = null;
        let currentPage = 'home';
        let selectedJob = null;
        let applications = [];
        let premiumAccess = null;
        let selectedCountry = 'All';

        // Sample job data
        const jobs = [
            {
                id: '1',
                title: 'Senior Software Engineer',
                description: 'Join our innovative team to build cutting-edge web applications using React, Node.js, and cloud technologies.',
                company: 'TechCorp Solutions',
                location: 'San Francisco, CA',
                country: 'USA',
                payment: '$85-120/hour',
                workingHours: '9:00 AM - 6:00 PM PST',
                hoursPerWeek: '40 hours/week',
                requirements: ['5+ years React experience', 'Node.js proficiency', 'Cloud platforms (AWS/Azure)'],
                experienceLevel: 'Senior Level',
                isSkilled: true,
                postedDate: '2025-03-15',
                neededBy: '2025-06-15',
                isPremium: true
            },
            {
                id: '2',
                title: 'Construction Worker',
                description: 'Seeking reliable construction workers for residential building projects. Physical demands include lifting, carrying, and operating tools.',
                company: 'BuildRight Construction',
                location: 'London, UK',
                country: 'UK',
                payment: '$25-35/hour',
                workingHours: '7:00 AM - 4:00 PM GMT',
                hoursPerWeek: '45 hours/week',
                requirements: ['Physical fitness', 'Basic tool knowledge', 'Safety certification preferred'],
                experienceLevel: 'Entry Level',
                isSkilled: false,
                postedDate: '2025-02-20',
                neededBy: '2025-08-20'
            },
            {
                id: '3',
                title: 'Registered Nurse',
                description: 'Compassionate nurse needed for elderly care facility. Provide quality healthcare and support to residents.',
                company: 'MediCare Australia',
                location: 'Sydney, NSW',
                country: 'Australia',
                payment: '$4,800-6,200/month',
                workingHours: '6:00 AM - 2:00 PM AEST',
                hoursPerWeek: '38 hours/week',
                requirements: ['RN certification', '2+ years experience', 'CPR certified'],
                experienceLevel: 'Mid Level',
                isSkilled: true,
                postedDate: '2025-01-10',
                neededBy: '2025-07-10',
                isPremium: true
            },
            {
                id: '4',
                title: 'Delivery Driver',
                description: 'Reliable delivery driver needed for food delivery service. Must have own vehicle and clean driving record.',
                company: 'QuickEats Dubai',
                location: 'Dubai, UAE',
                country: 'UAE',
                payment: '$18-25/hour',
                workingHours: '11:00 AM - 9:00 PM GST',
                hoursPerWeek: '50 hours/week',
                requirements: ['Valid driving license', 'Own vehicle', 'GPS navigation skills'],
                experienceLevel: 'Entry Level',
                isSkilled: false,
                postedDate: '2025-04-01',
                neededBy: '2025-07-01'
            },
            {
                id: '5',
                title: 'Financial Analyst',
                description: 'Analyze financial data and create reports for investment decisions. Strong analytical skills required.',
                company: 'Global Finance Inc',
                location: 'New York, NY',
                country: 'USA',
                payment: '$75-95/hour',
                workingHours: '9:00 AM - 5:00 PM EST',
                hoursPerWeek: '40 hours/week',
                requirements: ['Finance degree', 'Excel proficiency', '3+ years experience'],
                experienceLevel: 'Mid Level',
                isSkilled: true,
                postedDate: '2025-02-28',
                neededBy: '2025-09-28',
                isPremium: true
            },
            {
                id: '6',
                title: 'Hotel Housekeeper',
                description: 'Maintain cleanliness and comfort standards in luxury hotel rooms. Attention to detail essential.',
                company: 'Royal Hotel Group',
                location: 'Manchester, UK',
                country: 'UK',
                payment: '$16-20/hour',
                workingHours: '8:00 AM - 4:00 PM GMT',
                hoursPerWeek: '35 hours/week',
                requirements: ['Previous cleaning experience', 'Attention to detail', 'Physical stamina'],
                experienceLevel: 'Entry Level',
                isSkilled: false,
                postedDate: '2025-03-10',
                neededBy: '2025-06-10'
            },
            {
                id: '7',
                title: 'Mechanical Engineer',
                description: 'Design and develop mechanical systems for mining operations. CAD software experience required.',
                company: 'AusMineral Corp',
                location: 'Perth, WA',
                country: 'Australia',
                payment: '$95-130/hour',
                workingHours: '8:00 AM - 5:00 PM AWST',
                hoursPerWeek: '40 hours/week',
                requirements: ['Mechanical Engineering degree', 'CAD software', 'Mining industry experience'],
                experienceLevel: 'Senior Level',
                isSkilled: true,
                postedDate: '2025-01-25',
                neededBy: '2025-10-25',
                isPremium: true
            },
            {
                id: '8',
                title: 'Warehouse Assistant',
                description: 'Pack, sort, and organize inventory in fast-paced warehouse environment. Forklift certification a plus.',
                company: 'Emirates Logistics',
                location: 'Abu Dhabi, UAE',
                country: 'UAE',
                payment: '$15-22/hour',
                workingHours: '6:00 AM - 2:00 PM GST',
                hoursPerWeek: '48 hours/week',
                requirements: ['Physical fitness', 'Basic math skills', 'Forklift certification preferred'],
                experienceLevel: 'Entry Level',
                isSkilled: false,
                postedDate: '2025-04-05',
                neededBy: '2025-07-05'
            }
        ];

        // Countries list
        const countries = [
            'Afghanistan', 'Albania', 'Algeria', 'Andorra', 'Angola', 'Argentina', 'Armenia', 'Australia',
            'Austria', 'Azerbaijan', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize',
            'Benin', 'Bhutan', 'Bolivia', 'Bosnia and Herzegovina', 'Botswana', 'Brazil', 'Brunei', 'Bulgaria',
            'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Canada', 'Cape Verde', 'Central African Republic',
            'Chad', 'Chile', 'China', 'Colombia', 'Comoros', 'Congo', 'Costa Rica', 'Croatia', 'Cuba',
            'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'East Timor',
            'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Ethiopia', 'Fiji',
            'Finland', 'France', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Greece', 'Grenada',
            'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hungary', 'Iceland',
            'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Israel', 'Italy', 'Jamaica', 'Japan',
            'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'North Korea', 'South Korea', 'Kuwait', 'Kyrgyzstan',
            'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania',
            'Luxembourg', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands',
            'Mauritania', 'Mauritius', 'Mexico', 'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro',
            'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Zealand',
            'Nicaragua', 'Niger', 'Nigeria', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Palestine', 'Panama',
            'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal', 'Qatar', 'Romania',
            'Russia', 'Rwanda', 'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Vincent and the Grenadines',
            'Samoa', 'San Marino', 'São Tomé and Príncipe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles',
            'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa',
            'South Sudan', 'Spain', 'Sri Lanka', 'Sudan', 'Suriname', 'Sweden', 'Switzerland', 'Syria',
            'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Togo', 'Tonga', 'Trinidad and Tobago', 'Tunisia',
            'Turkey', 'Turkmenistan', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom',
            'United States', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam',
            'Yemen', 'Zambia', 'Zimbabwe'
        ];

        // Education levels
        const educationLevels = [
            'No Formal Education',
            'Primary Education',
            'Secondary Education (High School)',
            'Certificate',
            'Diploma',
            'Advanced Diploma',
            'Associate Degree',
            'Bachelor\'s Degree',
            'Bachelor\'s Degree with Honours',
            'Graduate Certificate',
            'Graduate Diploma',
            'Master\'s Degree',
            'Master\'s Degree (Research)',
            'Doctoral Degree (PhD)',
            'Professional Doctorate',
            'Postdoctoral Research'
        ];

        // Initialize the application
        function init() {
            loadUserData();
            loadApplications();
            loadPremiumAccess();
            populateCountries();
            populateEducationLevels();
            renderJobs();
            updatePremiumStatus();
            updateUI();
        }

        // Load user data from localStorage
        function loadUserData() {
            const savedUser = localStorage.getItem('careerbridge_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
            }
        }

        // Load applications from localStorage
        function loadApplications() {
            const savedApplications = localStorage.getItem('careerbridge_applications');
            if (savedApplications) {
                applications = JSON.parse(savedApplications);
            }
        }

        // Load premium access from localStorage
        function loadPremiumAccess() {
            const savedPremiumAccess = localStorage.getItem('careerbridge_premium_access');
            if (savedPremiumAccess) {
                premiumAccess = JSON.parse(savedPremiumAccess);
            }
        }

        // Check if user can access premium jobs
        function canAccessPremiumJobs() {
            if (!premiumAccess) return true;

            const today = new Date().toDateString();
            const lastAccess = new Date(premiumAccess.lastAccessDate).toDateString();

            if (today !== lastAccess) {
                return true;
            }

            return premiumAccess.accessCount < 1;
        }

        // Update premium access
        function updatePremiumAccess() {
            const today = new Date().toDateString();
            const newAccess = {
                lastAccessDate: today,
                accessCount: premiumAccess?.lastAccessDate === today ? (premiumAccess.accessCount + 1) : 1
            };

            premiumAccess = newAccess;
            localStorage.setItem('careerbridge_premium_access', JSON.stringify(newAccess));
            updatePremiumStatus();
        }

        // Update premium status display
        function updatePremiumStatus() {
            const statusElement = document.getElementById('premium-status');
            const usageElement = document.getElementById('premium-usage');
            
            if (canAccessPremiumJobs()) {
                statusElement.textContent = 'You can access 1 premium job today';
            } else {
                statusElement.textContent = 'Premium access used today. Come back tomorrow!';
            }
            
            const count = premiumAccess?.accessCount || 0;
            usageElement.textContent = `${count}/1`;
        }

        // Populate countries dropdown
        function populateCountries() {
            const nationalitySelect = document.querySelector('select[name="nationality"]');
            countries.forEach(country => {
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                nationalitySelect.appendChild(option);
            });
        }

        // Populate education levels dropdown
        function populateEducationLevels() {
            const educationSelect = document.querySelector('select[name="educationLevel"]');
            educationLevels.forEach(level => {
                const option = document.createElement('option');
                option.value = level;
                option.textContent = level;
                educationSelect.appendChild(option);
            });
        }

        // Filter jobs by country
        function filterByCountry(country) {
            selectedCountry = country;
            
            // Update filter buttons
            document.querySelectorAll('.country-filter').forEach(btn => {
                if (btn.dataset.country === country) {
                    btn.className = 'country-filter px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 bg-blue-600 text-white';
                } else {
                    btn.className = 'country-filter px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 bg-white text-gray-700 hover:bg-gray-50 border border-gray-200';
                }
            });
            
            renderJobs();
        }

        // Render jobs
        function renderJobs() {
            const jobsGrid = document.getElementById('jobs-grid');
            const filteredJobs = selectedCountry === 'All' ? jobs : jobs.filter(job => job.country === selectedCountry);
            
            jobsGrid.innerHTML = filteredJobs.map(job => `
                <div class="bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border ${job.isPremium ? 'border-amber-300 bg-gradient-to-br from-amber-50 to-white' : 'border-gray-200'} relative overflow-hidden hover-lift">
                    ${job.isPremium ? `
                        <div class="absolute top-0 right-0 bg-gradient-to-r from-amber-400 to-orange-500 text-white px-4 py-2 text-xs font-bold rounded-bl-xl flex items-center">
                            <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                            PREMIUM
                        </div>
                    ` : ''}
                    
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold text-gray-900 line-clamp-2 pr-16">${job.title}</h3>
                            <span class="px-3 py-1 text-xs font-semibold rounded-full ${
                                job.experienceLevel === 'Entry Level' ? 'bg-green-100 text-green-800' :
                                job.experienceLevel === 'Mid Level' ? 'bg-blue-100 text-blue-800' :
                                'bg-purple-100 text-purple-800'
                            }">
                                ${job.experienceLevel}
                            </span>
                        </div>
                        
                        <p class="text-gray-600 mb-5 line-clamp-3 leading-relaxed">${job.description}</p>
                        
                        <div class="space-y-3 mb-5">
                            <div class="flex items-center text-gray-700">
                                <svg class="w-4 h-4 mr-3 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                                </svg>
                                <span class="text-sm font-semibold">${job.company}</span>
                            </div>
                            <div class="flex items-center text-gray-700">
                                <svg class="w-4 h-4 mr-3 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                </svg>
                                <span class="text-sm">${job.location}</span>
                            </div>
                            <div class="flex items-center text-gray-700">
                                <svg class="w-4 h-4 mr-3 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
                                </svg>
                                <span class="text-sm font-semibold">${job.payment}</span>
                            </div>
                            <div class="flex items-center text-gray-700">
                                <svg class="w-4 h-4 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                <span class="text-sm">${job.workingHours}</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-2 mb-5">
                            ${job.requirements.slice(0, 2).map(req => `
                                <span class="px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full font-medium">${req}</span>
                            `).join('')}
                            ${job.requirements.length > 2 ? `
                                <span class="px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full font-medium">+${job.requirements.length - 2} more</span>
                            ` : ''}
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div class="flex items-center text-gray-500">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                                <span class="text-xs">Posted: ${job.postedDate}</span>
                            </div>
                            <button onclick="handleApply('${job.id}')" class="px-6 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${
                                job.isPremium 
                                    ? 'bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5'
                                    : 'bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5'
                            }">
                                ${job.isPremium ? `
                                    <span class="flex items-center">
                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                        </svg>
                                        Apply Premium
                                    </span>
                                ` : 'Apply Now'}
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Handle apply button click
        function handleApply(jobId) {
            const job = jobs.find(j => j.id === jobId);
            if (!job) return;

            // Check premium access for premium jobs
            if (job.isPremium && !canAccessPremiumJobs()) {
                showPremiumModal();
                return;
            }

            selectedJob = job;

            // Update premium access if it's a premium job
            if (job.isPremium) {
                updatePremiumAccess();
            }

            if (!currentUser) {
                showAuthModal();
            } else {
                showApplicationModal();
            }
        }

        // Show authentication modal
        function showAuthModal() {
            document.getElementById('auth-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Close authentication modal
        function closeAuthModal() {
            document.getElementById('auth-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Show application modal
        function showApplicationModal() {
            if (!selectedJob || !currentUser) return;

            document.getElementById('application-title').textContent = `Apply for ${selectedJob.title}`;
            
            // Populate form with user data
            const form = document.getElementById('application-form');
            form.name.value = currentUser.name;
            form.email.value = currentUser.email || '';
            form.nationality.value = currentUser.nationality;
            form.idPassport.value = currentUser.idPassport;

            // Show/hide education section based on job type
            const educationSection = document.getElementById('education-section');
            if (selectedJob.isSkilled) {
                educationSection.classList.remove('hidden');
                form.educationLevel.required = true;
            } else {
                educationSection.classList.add('hidden');
                form.educationLevel.required = false;
            }

            document.getElementById('application-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Close application modal
        function closeApplicationModal() {
            document.getElementById('application-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Show premium modal
        function showPremiumModal() {
            document.getElementById('premium-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Close premium modal
        function closePremiumModal() {
            document.getElementById('premium-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Show success modal
        function showSuccessModal(emailSent) {
            const statusElement = document.getElementById('email-status');
            if (emailSent) {
                statusElement.innerHTML = '<span class="text-green-600 font-semibold">✓ Email notification sent successfully</span>';
            } else {
                statusElement.innerHTML = '<span class="text-red-600 font-semibold">⚠ Email notification failed, but application was saved</span>';
            }
            document.getElementById('success-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Close success modal
        function closeSuccessModal() {
            document.getElementById('success-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Handle authentication form submission
        document.getElementById('auth-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const userData = {
                name: formData.get('name'),
                email: formData.get('email'),
                dateOfBirth: formData.get('dateOfBirth'),
                gender: formData.get('gender'),
                nationality: formData.get('nationality'),
                idPassport: formData.get('idPassport'),
                password: formData.get('password')
            };
            
            currentUser = userData;
            localStorage.setItem('careerbridge_user', JSON.stringify(userData));
            closeAuthModal();
            updateUI();
            showApplicationModal();
        });

        // Handle application form submission
        document.getElementById('application-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!selectedJob || !currentUser) return;
            
            const submitBtn = document.getElementById('submit-application');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            
            const formData = new FormData(e.target);
            const personalMessage = formData.get('personalMessage');
            const educationLevel = selectedJob.isSkilled ? formData.get('educationLevel') : undefined;
            
            // Prepare email data
            const emailData = {
                user_name: currentUser.name,
                user_email: currentUser.email || '',
                user_nationality: currentUser.nationality,
                user_id_passport: currentUser.idPassport,
                user_date_of_birth: currentUser.dateOfBirth,
                user_gender: currentUser.gender,
                job_title: selectedJob.title,
                job_company: selectedJob.company,
                job_location: selectedJob.location,
                job_payment: selectedJob.payment,
                job_working_hours: selectedJob.workingHours,
                job_requirements: selectedJob.requirements.join(', '),
                education_level: educationLevel,
                personal_message: personalMessage,
                application_date: new Date().toLocaleDateString()
            };
            
            // Send email
            const emailSent = await sendJobApplication(emailData);
            
            // Save application locally
            const application = {
                jobId: selectedJob.id,
                jobTitle: selectedJob.title,
                company: selectedJob.company,
                appliedDate: new Date().toISOString().split('T')[0],
                personalMessage: personalMessage,
                educationLevel: educationLevel,
                emailSent: emailSent
            };
            
            applications.push(application);
            localStorage.setItem('careerbridge_applications', JSON.stringify(applications));
            
            submitBtn.disabled = false;
            submitBtn.textContent = 'Submit Application';
            closeApplicationModal();
            showSuccessModal(emailSent);
        });

        // Send job application email
        async function sendJobApplication(emailData) {
            try {
                console.log('Sending email with data:', emailData);
                
                const response = await emailjs.send(
                    EMAILJS_SERVICE_ID,
                    EMAILJS_TEMPLATE_ID,
                    emailData,
                    EMAILJS_PUBLIC_KEY
                );
                
                console.log('EmailJS Response:', response);
                return response.status === 200;
            } catch (error) {
                console.error('EmailJS Error:', error);
                return false;
            }
        }

        // Set current page
        function setCurrentPage(page) {
            currentPage = page;
            
            // Hide all pages
            document.getElementById('home-page').classList.add('hidden');
            document.getElementById('profile-page').classList.add('hidden');
            document.getElementById('records-page').classList.add('hidden');
            
            // Show selected page
            document.getElementById(`${page}-page`).classList.remove('hidden');
            
            // Close user menu
            document.getElementById('user-dropdown').classList.add('hidden');
            
            // Render page content
            if (page === 'profile') {
                renderProfile();
            } else if (page === 'records') {
                renderRecords();
            }
        }

        // Render profile page
        function renderProfile() {
            if (!currentUser) return;
            
            const profileContent = document.getElementById('profile-content');
            profileContent.innerHTML = `
                <div class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-gray-50 p-4 rounded-xl">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Full Name</label>
                            <p class="text-gray-900 font-medium">${currentUser.name}</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-xl">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Email</label>
                            <p class="text-gray-900 font-medium">${currentUser.email || 'Not provided'}</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-xl">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Date of Birth</label>
                            <p class="text-gray-900 font-medium">${currentUser.dateOfBirth}</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-xl">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Gender</label>
                            <p class="text-gray-900 font-medium">${currentUser.gender}</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-xl">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Nationality</label>
                            <p class="text-gray-900 font-medium">${currentUser.nationality}</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-xl">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">ID/Passport</label>
                            <p class="text-gray-900 font-medium">${currentUser.idPassport}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Render records page
        function renderRecords() {
            const recordsContent = document.getElementById('records-content');
            
            if (applications.length === 0) {
                recordsContent.innerHTML = `
                    <div class="text-center py-12">
                        <svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                        <p class="text-gray-500 text-lg">No applications yet</p>
                        <p class="text-gray-400 text-sm mt-2">Start applying to jobs to see your records here!</p>
                    </div>
                `;
                return;
            }
            
            recordsContent.innerHTML = `
                <div class="space-y-4">
                    ${applications.map(application => `
                        <div class="border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-300">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="font-bold text-gray-900 text-lg">${application.jobTitle}</h3>
                                    <p class="text-gray-600 font-medium">${application.company}</p>
                                </div>
                                <div class="text-right">
                                    <span class="text-sm text-gray-500 font-medium">Applied: ${application.appliedDate}</span>
                                    <div class="flex items-center mt-2">
                                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                        </svg>
                                        <span class="text-xs font-semibold ${application.emailSent ? 'text-green-600' : 'text-red-600'}">
                                            ${application.emailSent ? 'Email Sent' : 'Email Failed'}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            ${application.personalMessage ? `
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <p class="text-gray-700 text-sm leading-relaxed">${application.personalMessage}</p>
                                </div>
                            ` : ''}
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Toggle user menu
        function toggleUserMenu() {
            const dropdown = document.getElementById('user-dropdown');
            dropdown.classList.toggle('hidden');
        }

        // Handle logout
        function handleLogout() {
            currentUser = null;
            localStorage.removeItem('careerbridge_user');
            setCurrentPage('home');
            updateUI();
        }

        // Update UI based on user state
        function updateUI() {
            const userSection = document.getElementById('user-section');
            const signinBtn = document.getElementById('signin-btn');
            const userName = document.getElementById('user-name');
            
            if (currentUser) {
                userSection.classList.remove('hidden');
                signinBtn.classList.add('hidden');
                userName.textContent = currentUser.name;
            } else {
                userSection.classList.add('hidden');
                signinBtn.classList.remove('hidden');
            }
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('#user-menu-btn') && !e.target.closest('#user-dropdown')) {
                document.getElementById('user-dropdown').classList.add('hidden');
            }
        });

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal-backdrop')) {
                closeAuthModal();
                closeApplicationModal();
                closePremiumModal();
                closeSuccessModal();
            }
        });

        // Initialize the application when the page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
